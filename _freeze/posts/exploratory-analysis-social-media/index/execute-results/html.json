{
  "hash": "572d1ca2cbf32f1bf2f744af0d883d41",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Cleaning Series :: Exploring Social Media Addiction Data\"\nauthor: \"Robert Muwanga\"\ndate: \"2025-07-22\"\ndraft: true\ncategories: [data-cleaning, data-exploration]\n---\n\n\n\n\n\n## Background to the Data Cleaning Series\n\nI was asked to teach a class on how to import, clean and transform data in R and as part of the training. We did several exercises to help re-enforce the basics and, given that it was well received, I decided to document these exercises in a series that I'm calling the **Data Cleaning Series**.\n\nIt will also serve as a journal for me to refer to when (being human) I forget üòÖ.\n\nIf you haven't done so yet I recommend you read my brief entry on [tidy data](https://rjmuwanga.netlify.app/posts/tidy-data/) as we shall endeavour to put our data in this format throughout the series.\n\n## About the dataset - Social Media Addiction Analysis\n\nFor this exercise, we are leveraging on the Social Media Addiction dataset provided by [Anil Shamim](https://www.kaggle.com/datasets/adilshamim8/social-media-addiction-vs-relationships/data) from the Kaggle Platform.\n\nThe data set is a set of anonymized records of students‚Äô social media behaviors and related life outcomes, spanning multiple countries and background. Each row represents one student‚Äôs survey response, offering a cross‚Äêsectional snapshot suitable for statistical analysis and machine‚Äêlearning applications.\n\nFor full details of the dataset, I would encourage you to visit the site and view its Data Card.\n\nMake sure you download the data set and save it on your machine (you might need a free Kaggle account to get it).\n\nLet's import it in and do a bit of exploration to get to know it better:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsocial_media_data <- read_csv('Students_Social_Media_Addiction.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 705 Columns: 13\n‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nDelimiter: \",\"\nchr (6): Gender, Academic_Level, Country, Most_Used_Platform, Affects_Academ...\ndbl (7): Student_ID, Age, Avg_Daily_Usage_Hours, Sleep_Hours_Per_Night, Ment...\n\n‚Ñπ Use `spec()` to retrieve the full column specification for this data.\n‚Ñπ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nsocial_media_data\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 705 √ó 13\n   Student_ID   Age Gender Academic_Level Country     Avg_Daily_Usage_Hours\n        <dbl> <dbl> <chr>  <chr>          <chr>                       <dbl>\n 1          1    19 Female Undergraduate  Bangladesh                    5.2\n 2          2    22 Male   Graduate       India                         2.1\n 3          3    20 Female Undergraduate  USA                           6  \n 4          4    18 Male   High School    UK                            3  \n 5          5    21 Male   Graduate       Canada                        4.5\n 6          6    19 Female Undergraduate  Australia                     7.2\n 7          7    23 Male   Graduate       Germany                       1.5\n 8          8    20 Female Undergraduate  Brazil                        5.8\n 9          9    18 Male   High School    Japan                         4  \n10         10    21 Female Graduate       South Korea                   3.3\n# ‚Ñπ 695 more rows\n# ‚Ñπ 7 more variables: Most_Used_Platform <chr>,\n#   Affects_Academic_Performance <chr>, Sleep_Hours_Per_Night <dbl>,\n#   Mental_Health_Score <dbl>, Relationship_Status <chr>,\n#   Conflicts_Over_Social_Media <dbl>, Addicted_Score <dbl>\n```\n\n\n:::\n:::\n\n\n\nFrom the output, we notice that the dataset has 705 variables and 13 observations. Given that we have the Data Caard that outlines the expected values for each variable, we can validate the information to make sure that it conforms to what was expected:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Let's build the validation engine based on the rules on the Data Card.\nvalidation_rules <- validator(\n  is_unique(Student_ID), \n  Age > 0, \n  Gender %in% c(\"Male\", \"Female\"), \n  Academic_Level %in% c(\"High School\", \"Undergraduate\", \"Graduate\"), \n  in_range(Avg_Daily_Usage_Hours, 0, 24),\n  Affects_Academic_Performance %in% c(\"Yes\", \"No\"),\n  Sleep_Hours_Per_Night > 0,\n  in_range(Mental_Health_Score, 1, 10),\n  Relationship_Status %in% c(\"Single\", \"In Relationship\", \"Complicated\"),\n  Conflicts_Over_Social_Media >= 0,\n  in_range(Addicted_Score, 1, 10),\n  is.character(Country), \n  is.character(Most_Used_Platform)\n)\n\n# Let's validate and assess the output.\nconfront(social_media_data, validation_rules)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nObject of class 'validation'\nCall:\n    confront(dat = social_media_data, x = validation_rules)\n\nRules confronted: 13\n   With fails   : 0\n   With missings: 0\n   Threw warning: 0\n   Threw error  : 0\n```\n\n\n:::\n:::\n\n\n\nFrom the output, it is clear that all the variables satisfy the set constraints. However, as a sanity check for Country and Most_Used_Platform, let's print out their unique values to see whether they are a good representation of what currently exists:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Let's just view the unique value of the Country variable\n\nsocial_media_data |> \n  select(Country) |> \n  unique() |> \n  pull()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  [1] \"Bangladesh\"      \"India\"           \"USA\"             \"UK\"             \n  [5] \"Canada\"          \"Australia\"       \"Germany\"         \"Brazil\"         \n  [9] \"Japan\"           \"South Korea\"     \"France\"          \"Spain\"          \n [13] \"Italy\"           \"Mexico\"          \"Russia\"          \"China\"          \n [17] \"Sweden\"          \"Norway\"          \"Denmark\"         \"Netherlands\"    \n [21] \"Belgium\"         \"Switzerland\"     \"Austria\"         \"Portugal\"       \n [25] \"Greece\"          \"Ireland\"         \"New Zealand\"     \"Singapore\"      \n [29] \"Malaysia\"        \"Thailand\"        \"Vietnam\"         \"Philippines\"    \n [33] \"Indonesia\"       \"Taiwan\"          \"Hong Kong\"       \"Turkey\"         \n [37] \"Israel\"          \"UAE\"             \"Egypt\"           \"Morocco\"        \n [41] \"South Africa\"    \"Nigeria\"         \"Kenya\"           \"Ghana\"          \n [45] \"Argentina\"       \"Chile\"           \"Colombia\"        \"Peru\"           \n [49] \"Venezuela\"       \"Ecuador\"         \"Uruguay\"         \"Paraguay\"       \n [53] \"Bolivia\"         \"Costa Rica\"      \"Panama\"          \"Jamaica\"        \n [57] \"Trinidad\"        \"Bahamas\"         \"Iceland\"         \"Finland\"        \n [61] \"Poland\"          \"Romania\"         \"Hungary\"         \"Czech Republic\" \n [65] \"Slovakia\"        \"Croatia\"         \"Serbia\"          \"Slovenia\"       \n [69] \"Bulgaria\"        \"Estonia\"         \"Latvia\"          \"Lithuania\"      \n [73] \"Ukraine\"         \"Moldova\"         \"Belarus\"         \"Kazakhstan\"     \n [77] \"Uzbekistan\"      \"Kyrgyzstan\"      \"Tajikistan\"      \"Armenia\"        \n [81] \"Georgia\"         \"Azerbaijan\"      \"Cyprus\"          \"Malta\"          \n [85] \"Luxembourg\"      \"Monaco\"          \"Andorra\"         \"San Marino\"     \n [89] \"Vatican City\"    \"Liechtenstein\"   \"Montenegro\"      \"Albania\"        \n [93] \"North Macedonia\" \"Kosovo\"          \"Bosnia\"          \"Qatar\"          \n [97] \"Kuwait\"          \"Bahrain\"         \"Oman\"            \"Jordan\"         \n[101] \"Lebanon\"         \"Iraq\"            \"Yemen\"           \"Syria\"          \n[105] \"Afghanistan\"     \"Pakistan\"        \"Nepal\"           \"Bhutan\"         \n[109] \"Sri Lanka\"       \"Maldives\"       \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Let's just view the unique values of Most_Used_Platform variable\n\nsocial_media_data |> \n  select(Most_Used_Platform) |> \n  unique() |> \n  pull()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Instagram\" \"Twitter\"   \"TikTok\"    \"YouTube\"   \"Facebook\"  \"LinkedIn\" \n [7] \"Snapchat\"  \"LINE\"      \"KakaoTalk\" \"VKontakte\" \"WhatsApp\"  \"WeChat\"   \n```\n\n\n:::\n:::\n\n\n\nWe can see that both outputs seem reasonable. Additional data cleaning may be needed but we shall further clean as part of answering the questions.\n\nLet's proceed to answering the questions!\n\n### Question 1\n\n#### What is the total number of male and female students by country?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsocial_media_data |> \n  summarise(total = n(), .by = Gender) |> \n  mutate(\n    perc_gender = round(\n      total / sum(total) * 100, 2))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 √ó 3\n  Gender total perc_gender\n  <chr>  <int>       <dbl>\n1 Female   353        50.1\n2 Male     352        49.9\n```\n\n\n:::\n:::\n\n\n\nWe can see that its an almost equal split between the Female and the Male gender - 50.07% against 49.93% respectively.\n\n### Question 2\n\n#### Which social media platform is associated with affecting the largest number of students by Academic Level?\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### Question 3\n\n#### Show a table of countries showing the average sleep of High School students ordered from the least amount of sleep to the most.\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### Question 4\n\n#### Find the average addiction score for each country. Include the country's respective continent and order the table in descending order by the country's average addiction score\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### Question 5\n\n#### Which gender per country and continent is the most lonely? Assume \"being lonely\" are those in a relationship status of \"Single\" and \"Complicated\".\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### Question 6\n\n#### Which capital city (and country) has the most number of students \"In Relationship\"?\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### Question 7\n\n#### Determine the most popular social media platform in each country and continent\n\n\n\n::: {.cell}\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}